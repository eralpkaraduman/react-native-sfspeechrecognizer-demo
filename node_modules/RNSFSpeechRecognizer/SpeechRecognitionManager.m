//
//  SpeechRecognitionManager.m
//  RNSFSpeechRecognizer
//
//  Created by Eralp Karaduman on 6/18/17.
//  Copyright Â© 2017 Super Damage. All rights reserved.
//

#import "SpeechRecognitionManager.h"
@import AVFoundation;

@implementation SpeechRecognitionManager

- (BOOL)isMicrophonePermissionGranted {
    AVAudioSessionRecordPermission status = [[AVAudioSession sharedInstance] recordPermission];
    return status == AVAudioSessionRecordPermissionGranted;
}

- (BOOL)isMicrophonePermissionDenied {
    AVAudioSessionRecordPermission status = [[AVAudioSession sharedInstance] recordPermission];
    return status == AVAudioSessionRecordPermissionDenied;
}

- (void)requestMicrophonePermission:(void (^ _Nonnull)(BOOL))callback {
    [[AVAudioSession sharedInstance] requestRecordPermission:^(BOOL granted) {
        callback(granted);
    }];
}

@end
